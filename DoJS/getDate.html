<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
</head>

<body>
<div>Time is:<div id="date1">当前时间</div></div>
<span>距离2018年还有：<div id="left"></div>天</span>
</body>
<script type="text/javascript">
window.onload=function(){
	showTime();
	//倒计时
	leftTime();
	
}

	function leftTime(){
		var curtime=new Date();
	var  endtime=new Date('2018,2,16,24:00:00');
    var lefttime=parseInt((endtime.getTime()-curtime.getTime())/1000);
	var d=parseInt(lefttime/(24*60*60));
	var h=parseInt(lefttime/(60*60)%24);
	var m=parseInt(lefttime/(60)%60);
	var s=parseInt(lefttime%60);
	document.getElementById('left').innerHTML=d+"日"+h+"小时"+m+"分"+s+"s";
	setTimeout(leftTime,500);
	if(lefttime<=0){
		document.getElementById('left').innerHTML="2018来啦";
		}
	}
	
	function checkTime(i){
		if(i<10){
			i="0"+ i;
			
			}
			return i;
		}
	function showTime(){
		
	var myDate=new Date();
	var year=myDate.getFullYear();
	var month=myDate.getMonth()+1;
	var date=myDate.getDate();
	var d=myDate.getDay();
	var h=myDate.getHours();
	var m=myDate.getMinutes();
	var s=myDate.getSeconds();
	m=checkTime(m);
	s=checkTime(s);
	var weekday=new Array(7)['星期日','星期一','星期二','星期三','星期四','星期五','星期六'];
	var week=new Array(7)
	week[0]="星期日"
	week[1]="星期日"
	week[2]="星期日"
	week[3]="星期日"
	week[4]="星期日"
	week[5]="星期日"
	week[6]="星期日"
	document.getElementById('date1').innerHTML=year+'年'+month+'月'+date+'日'+week[d]+
	     h+':'+m+':'+s;
		setTimeout(showTime,500);
	}


</script>
</html>
